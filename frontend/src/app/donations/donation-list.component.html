<div class="donation-page">

  <!-- HEADER -->
  <div class="page-header">
    <h2>Available Donation Requests</h2>
    <p>Choose a request and make a contribution</p>
  </div>

  <!-- LOADING -->
  <p *ngIf="loading" class="loading-text">
    Loading donation requests...
  </p>

  <!-- EMPTY -->
  <p *ngIf="!loading && donations.length === 0" class="empty-text">
    No donation requests available right now.
  </p>

  <!-- LIST -->
  <div class="card-grid" *ngIf="!loading && donations.length > 0">
    <div class="donation-card" *ngFor="let d of donations">

      <!-- LEFT -->
      <div class="card-left">
        <h3>{{ d.donation_type }}</h3>

        <p><strong>Quantity / Amount:</strong> {{ d.quantity_or_amount }}</p>
        <p><strong>Location:</strong> {{ d.location }}</p>
        <p>
          <strong>Pickup Date:</strong>
          {{ d.pickup_date_time | date:'mediumDate' }}
        </p>

        <span
          class="status"
          [class.pending]="d.status === 'PENDING'"
          [class.completed]="d.status !== 'PENDING'"
        >
          {{ d.status }}
        </span>
      </div>

      <!-- RIGHT -->
      <div class="card-right">
        <!-- SHOW BUTTON ONLY IF PENDING -->
        <button
          *ngIf="d.status === 'PENDING'"
          class="contribute-btn"
          (click)="contribute(d.id)"
        >
          Contribute
        </button>

        <!-- ALREADY CONFIRMED -->
        <span *ngIf="d.status !== 'PENDING'" class="already-taken">
          Already Confirmed
        </span>
      </div>

    </div>
  </div>

</div>